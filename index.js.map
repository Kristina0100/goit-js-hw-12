{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryTemplate = imgData => {\n  return `\n  <li class=\"gallery-card\">\n  <a class=\"gallery-link\" href=${imgData.largeImageURL}>\n    <img class=\"gallery-img\" src=\"${imgData.webformatURL}\" alt=\"${imgData.tags}\" data-source=${imgData.largeImageURL} />\n  </a>\n<div class=\"data-wrapper\">\n<ul class=\"img-info\">\n  <li class=\"param-info\">\n  <h2 class=\"param-name\">Likes</h2>\n  <p class=\"param-value\">${imgData.likes}</p></li>\n  <li class=\"param-info\">\n  <h2 class=\"param-name\">Views</h2>\n  <p class=\"param-value\">${imgData.views}</p></li>\n  <li class=\"param-info\">\n  <h2 class=\"param-name\">Comments</h2>\n  <p class=\"param-value\">${imgData.comments}</p></li>\n  <li class=\"param-info\">\n  <h2 class=\"param-name\">Downloads</h2>\n  <p class=\"param-value\">${imgData.downloads}</p></li>\n</ul>\n</div>\n  </li>\n  `;\n};","const BASE_URL = 'https://pixabay.com/api/';\n\nexport const fetchPhotos = searchedValue => {\n  const urlParams = new URLSearchParams({\n    key: '30578441-e990d3db57773391ef0ba167f',\n    q: searchedValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n    per_page: 21,\n  });\n\n  return fetch(`${BASE_URL}?${urlParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(response.status);\n      }\n      return response.json();\n    })\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nimport { createGalleryTemplate } from '/js/render-functions';\nimport { fetchPhotos } from '/js/pixabay-api';\n\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst loaderEl = document.querySelector('.loader');\n\nconst onFormSubmit = event => {\n  event.preventDefault();\n\n  const inputValue = searchFormEl.elements.query.value.trim();\n\n    if (!inputValue) {\n      iziToast.warning({\n      message: 'Please enter a search term',\n      position: 'topRight',\n      closeOnClick: true,\n});\n    return;\n  }\n\n  loaderEl.classList.remove(\"is-hidden\");\n  galleryEl.innerHTML = '';\n\nfetchPhotos(inputValue)\n    .then(data => {\n      if (data.total === 0) {\n        iziToast.show({\n          message: `Sorry, there are no images matching your search query. Please try again!`,\n          messageColor: '#fff',\n          messageSize: '16px',\n          messageLineHeight: '24px',\n          iconUrl: '/img/error.svg',\n          backgroundColor: '#EF4040',\n          maxWidth: '350px',\n          closeOnClick: true,\n          position: 'topRight',\n          progressBarColor: '#B51B1B',\n        });\n\n        loaderEl.classList.add(\"is-hidden\");\n        galleryEl.innerHTML = '';\n        searchFormEl.reset();\n\n        return\n      };\n\n      loaderEl.classList.add(\"is-hidden\");\n\n      const galleryCardsTemplate = data.hits.map(imgInfo => createGalleryTemplate(imgInfo)).join('');\n      galleryEl.innerHTML = galleryCardsTemplate;\n                \n      const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n      });\n\n      lightbox.refresh();\n    }\n    )\n    .catch(err => {\n      console.log(err);\n\n      iziToast.show({\n      title: 'Error',\n      message: `Something went wrong. Please try again later.`,\n      messageColor: '#fff',\n      titleColor: '#fff',\n      messageSize: '16px',\n      messageLineHeight: '24px',\n      position: 'topRight',\n      closeOnClick: true,\n      maxWidth: '420px',\n      backgroundColor: '#EF4040',\n      progressBarColor: '#B51B1B',\n      iconUrl: '/img/error.svg',\n    });\n\n      loaderEl.classList.add(\"is-hidden\");\n    });\n\n};\n\nsearchFormEl.addEventListener('submit', onFormSubmit)\n"],"names":["createGalleryTemplate","imgData","BASE_URL","fetchPhotos","searchedValue","urlParams","response","searchFormEl","galleryEl","loaderEl","onFormSubmit","event","inputValue","iziToast","data","galleryCardsTemplate","imgInfo","SimpleLightbox","err"],"mappings":"6vBAAO,MAAMA,EAAwBC,GAC5B;AAAA;AAAA,iCAEwBA,EAAQ,aAAa;AAAA,oCAClBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI,iBAAiBA,EAAQ,aAAa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BAMzFA,EAAQ,KAAK;AAAA;AAAA;AAAA,2BAGbA,EAAQ,KAAK;AAAA;AAAA;AAAA,2BAGbA,EAAQ,QAAQ;AAAA;AAAA;AAAA,2BAGhBA,EAAQ,SAAS;AAAA;AAAA;AAAA;AAAA,ICnBtCC,EAAW,2BAEJC,EAAcC,GAAiB,CAC1C,MAAMC,EAAY,IAAI,gBAAgB,CACpC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACd,CAAG,EAED,OAAO,MAAM,GAAGF,CAAQ,IAAIG,CAAS,EAAE,EACpC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAEjC,OAAOA,EAAS,MACtB,CAAK,CACL,ECTMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAW,SAAS,cAAc,SAAS,EAE3CC,EAAeC,GAAS,CAC5BA,EAAM,eAAc,EAEpB,MAAMC,EAAaL,EAAa,SAAS,MAAM,MAAM,OAEnD,GAAI,CAACK,EAAY,CACfC,EAAS,QAAQ,CACjB,QAAS,6BACT,SAAU,WACV,aAAc,EACpB,CAAC,EACG,MACD,CAEDJ,EAAS,UAAU,OAAO,WAAW,EACrCD,EAAU,UAAY,GAExBL,EAAYS,CAAU,EACjB,KAAKE,GAAQ,CACZ,GAAIA,EAAK,QAAU,EAAG,CACpBD,EAAS,KAAK,CACZ,QAAS,2EACT,aAAc,OACd,YAAa,OACb,kBAAmB,OACnB,QAAS,iBACT,gBAAiB,UACjB,SAAU,QACV,aAAc,GACd,SAAU,WACV,iBAAkB,SAC5B,CAAS,EAEDJ,EAAS,UAAU,IAAI,WAAW,EAClCD,EAAU,UAAY,GACtBD,EAAa,MAAK,EAElB,MAER,CACME,EAAS,UAAU,IAAI,WAAW,EAElC,MAAMM,EAAuBD,EAAK,KAAK,IAAIE,GAAWhB,EAAsBgB,CAAO,CAAC,EAAE,KAAK,EAAE,EAC7FR,EAAU,UAAYO,EAEL,IAAIE,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GACtB,CAAO,EAEQ,QAAO,CACjB,CACA,EACA,MAAMC,GAAO,CACZ,QAAQ,IAAIA,CAAG,EAEfL,EAAS,KAAK,CACd,MAAO,QACP,QAAS,gDACT,aAAc,OACd,WAAY,OACZ,YAAa,OACb,kBAAmB,OACnB,SAAU,WACV,aAAc,GACd,SAAU,QACV,gBAAiB,UACjB,iBAAkB,UAClB,QAAS,gBACf,CAAK,EAECJ,EAAS,UAAU,IAAI,WAAW,CACxC,CAAK,CAEL,EAEAF,EAAa,iBAAiB,SAAUG,CAAY"}